(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{432:function(s,a,n){"use strict";n.r(a);var t=n(2),e=Object(t.a)({},(function(){var s=this,a=s._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("blockquote",[a("p",[s._v("本文为记录JS中常见的方法，您可以将其封装为你自己的工具函数，方便在任何项目中使用。如下方法为我工作期间遇到的实际需求整理得来，其中有些借鉴了他人的代码精华（距离时间有些久远，有些已经找不到原文了），如果您有更好的方法，欢迎留言讨论！篇幅有限，本文将会持续更新。")])]),s._v(" "),a("h1",{attrs:{id:"一、数组去重"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#一、数组去重"}},[s._v("#")]),s._v(" 一、数组去重")]),s._v(" "),a("h2",{attrs:{id:"_1-set"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-set"}},[s._v("#")]),s._v(" 1.Set()")]),s._v(" "),a("p",[s._v("适用场景：数组内的元素全部为基本数据类型（引用类型会失效）")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("let arr = [1, '2', 3, '2', false, false, true]\nlet newArr = [...new Set(arr)]\nconsole.log(newArr)\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("p",[a("img",{attrs:{src:"/2023/092101/luoyonghao.gif",alt:"image/png"}})]),s._v(" "),a("h2",{attrs:{id:"_2-利用对象"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-利用对象"}},[s._v("#")]),s._v(" 2.利用对象")]),s._v(" "),a("p",[s._v("适用场景：数组内的元素全部为对象，且有唯一值")]),s._v(" "),a("p",[s._v("数据源：")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("let arr = [{\n  id: 1,\n  name: 'zhangsan'\n}, {\n  id: 2,\n  name: 'lisi'\n}, {\n  id: 1,\n  name: 'zhangsan'\n}]\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br")])]),a("p",[s._v("JS：")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("/** \n * 数组去重\n * @param Array {arr} 原始数组\n * @param String {id} 数组元素的唯一标识,默认为id\n */\nfunction arrDeduplication(arr, id = 'id') {\n  if (!(arr instanceof Array)) return arr\n  let obj = {}\n  let newArr = []\n  arr.forEach(k => {\n    if (!obj[k[id]]) {\n      obj[k[id]] = true  //这里仅为标记此属性已经被添加了\n      newArr.push(k)\n    }\n  })\n  return newArr\n}\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br")])]),a("p",[a("img",{attrs:{src:"",alt:"",title:"点击并拖拽以移动"}})]),s._v(" "),a("p",[s._v("结果：")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/83f772eb2d8e4c71a8acae22a698da57~tplv-k3u1fbpfcp-watermark.image",alt:"image.png"}})]),s._v(" "),a("blockquote",[a("p",[s._v("数组去重的方法有很多，这里仅列举常用且简单的")])]),s._v(" "),a("h1",{attrs:{id:"二、数组按固定长度分割"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#二、数组按固定长度分割"}},[s._v("#")]),s._v(" 二、数组按固定长度分割")]),s._v(" "),a("p",[s._v("使用场景：例如：可滑动菜单，每页8个菜单，每个菜单根据权限动态渲染")]),s._v(" "),a("p",[s._v("数据源：")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("let arr = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13]\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[a("img",{attrs:{src:"",alt:"",title:"点击并拖拽以移动"}})]),s._v(" "),a("p",[s._v("JS：")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("/**\n * 数组按固定长度分割\n * @param Array {arr} 原始数组\n * @param Number {len} 长度\n */\nfunction cutArray(arr, len) {\n  if (!(arr instanceof Array) || !len) return arr\n  let index = 0;\n  let newArr = [];\n  while (index < arr.length) {\n    newArr.push(arr.slice(index, index += len));\n  }\n  return newArr;\n}\n\nconsole.log(cutArray(arr, 5))\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br")])]),a("p",[a("img",{attrs:{src:"",alt:"",title:"点击并拖拽以移动"}})]),s._v(" "),a("p",[s._v("结果：")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/6684e49441034fffbc20bf80e24892d0~tplv-k3u1fbpfcp-watermark.image?",alt:"image.png"}})]),s._v(" "),a("h1",{attrs:{id:"三、数组排列组合"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#三、数组排列组合"}},[s._v("#")]),s._v(" 三、数组排列组合")]),s._v(" "),a("p",[s._v("适用场景：商品sku")]),s._v(" "),a("p",[s._v("数据源：")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("let arr = [\n  ['中杯', '大杯', '超大杯'], //份量\n  ['加珍珠', '加椰果', '加西米露'] //小料\n]\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("p",[a("img",{attrs:{src:"",alt:"",title:"点击并拖拽以移动"}})]),s._v(" "),a("p",[a("img",{attrs:{src:"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/1edc16ade90848259caa780246274bad~tplv-k3u1fbpfcp-zoom-1.image",alt:""}}),s._v("​")]),s._v(" "),a("p",[a("img",{attrs:{src:"",alt:"",title:"点击并拖拽以移动"}}),s._v("编辑")]),s._v(" "),a("p",[s._v("JS:")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("/** \n * 数组排列组合\n * @param Array {arr} 原始数组（二维数组）\n */\nfunction doCombination(arr) {\n  var count = arr.length - 1; //数组长度(从0开始)\n  var tmp = [];\n  var totalArr = []; // 总数组\n  return doCombinationCallback(arr, 0); //从第一个开始\n  //js 没有静态数据，为了避免和外部数据混淆，需要使用闭包的形式\n  function doCombinationCallback(arr, curr_index) {\n    for (let val of arr[curr_index]) {\n      tmp[curr_index] = val; //以curr_index为索引，加入数组\n      //当前循环下标小于数组总长度，则需要继续调用方法\n      if (curr_index < count) {\n        doCombinationCallback(arr, curr_index + 1); //继续调用\n      } else {\n        totalArr.push(tmp); //(直接给push进去，push进去的不是值，而是值的地址)\n      }\n      //js  对象都是 地址引用(引用关系)，每次都需要重新初始化，否则 totalArr的数据都会是最后一次的 tmp 数据；\n      let oldTmp = tmp;\n      tmp = [];\n      for (let index of oldTmp) {\n        tmp.push(index);\n      }\n    }\n    return totalArr;\n  }\n}\nconsole.log(doCombination(arr))\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br")])]),a("p",[a("img",{attrs:{src:"",alt:"",title:"点击并拖拽以移动"}})]),s._v(" "),a("p",[s._v("结果：")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/83007614ffc74a939e0a7c6bf9497a05~tplv-k3u1fbpfcp-watermark.image?",alt:"image.png"}})]),s._v(" "),a("h1",{attrs:{id:"四、数组排序"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#四、数组排序"}},[s._v("#")]),s._v(" 四、数组排序")]),s._v(" "),a("h2",{attrs:{id:"_1-sort"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-sort"}},[s._v("#")]),s._v(" 1.sort")]),s._v(" "),a("p",[s._v("字符串数据源：")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("let arr = ['张三', '李四', '安徒生', 'IKUN', 'FBI','Jay',\n 'vitas', 'jack', 'mary', '123', '3', '24']\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("p",[a("img",{attrs:{src:"",alt:"",title:"点击并拖拽以移动"}})]),s._v(" "),a("h3",{attrs:{id:"_1-1-数字-汉字-字母-数字按1-9-中文按拼音-英文按a-z"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-数字-汉字-字母-数字按1-9-中文按拼音-英文按a-z"}},[s._v("#")]),s._v(" 1.1 数字>汉字>字母  （数字按1-9，中文按拼音，英文按a-Z）")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("console.log(arr.sort((a, b) => a.localeCompare(b)))\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[a("img",{attrs:{src:"https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/b2a1537ac1854fb7acdbc881482909b2~tplv-k3u1fbpfcp-watermark.image?",alt:"image.png"}})]),s._v(" "),a("p",[s._v("数字数据源：")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("let arr = [1, 3, 4, 5, 16, 6, 32]\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[a("img",{attrs:{src:"",alt:"",title:"点击并拖拽以移动"}})]),s._v(" "),a("h3",{attrs:{id:"_1-2-数字从小到大排序"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-数字从小到大排序"}},[s._v("#")]),s._v(" 1.2 数字从小到大排序")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("console.log(arr.sort((a, b) => a - b))\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[a("img",{attrs:{src:"https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/497c411a60184f74b54683fd3bb7869d~tplv-k3u1fbpfcp-watermark.image?",alt:"image.png"}})]),s._v(" "),a("h3",{attrs:{id:"_1-3-数字从大到小排序"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-3-数字从大到小排序"}},[s._v("#")]),s._v(" 1.3 数字从大到小排序")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("console.log(arr.sort((a, b) => b - a))\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[a("img",{attrs:{src:"https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/9f719c8d1e8245018a5c9075512766a7~tplv-k3u1fbpfcp-watermark.image?",alt:"image.png"}})]),s._v(" "),a("h3",{attrs:{id:"_1-4-按照给定规则数组排序"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-4-按照给定规则数组排序"}},[s._v("#")]),s._v(" 1.4 按照给定规则数组排序")]),s._v(" "),a("p",[s._v("数据源：")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("let arr = [{\n  field: 'name',\n  value: 2\n}, {\n  field: 'age',\n  value: 3\n}, {\n  field: 'id',\n  value: 1\n}, {\n  field: 'sex',\n  value: 4\n}]\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br")])]),a("p",[a("img",{attrs:{src:"",alt:"",title:"点击并拖拽以移动"}})]),s._v(" "),a("p",[s._v("排序规则数组：")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("// 排序规则数组\nlet order = ['id', 'name', 'job', 'age', 'city', 'sex']\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("p",[a("img",{attrs:{src:"",alt:"",title:"点击并拖拽以移动"}})]),s._v(" "),a("p",[s._v("JS：")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("console.log(arr.sort((a, b) => {\n  return order.indexOf(a.field) - order.indexOf(b.field)\n}))\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("p",[a("img",{attrs:{src:"",alt:"",title:"点击并拖拽以移动"}})]),s._v(" "),a("p",[s._v("结果：")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/e78f3101b84b42e890832059c83450c9~tplv-k3u1fbpfcp-watermark.image?",alt:"image.png"}})]),s._v(" "),a("blockquote",[a("p",[s._v("排序方法还有很多，例如：快速排序、冒泡排序、插入排序、归并排序等")])]),s._v(" "),a("h1",{attrs:{id:"五、扁平化数组转树形结构-不用递归"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#五、扁平化数组转树形结构-不用递归"}},[s._v("#")]),s._v(" 五、扁平化数组转树形结构（不用递归）")]),s._v(" "),a("p",[s._v("适用场景：将树结构转化为一维数组")]),s._v(" "),a("p",[s._v("来源："),a("a",{attrs:{href:"https://juejin.cn/post/6983904373508145189",title:"https://juejin.cn/post/6983904373508145189",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://juejin.cn/post/6983904373508145189"),a("OutboundLink")],1)]),s._v(" "),a("p",[s._v("数据源：")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("let arr = [{\n    id: 1,\n    name: '部门1',\n    pid: 0\n  },\n  {\n    id: 2,\n    name: '部门2',\n    pid: 1\n  },\n  {\n    id: 3,\n    name: '部门3',\n    pid: 1\n  },\n  {\n    id: 4,\n    name: '部门4',\n    pid: 3\n  },\n  {\n    id: 5,\n    name: '部门5',\n    pid: 4\n  },\n]\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br")])]),a("p",[a("img",{attrs:{src:"",alt:"",title:"点击并拖拽以移动"}})]),s._v(" "),a("blockquote",[a("p",[s._v("思路：")]),s._v(" "),a("ol",[a("li",[s._v("树结构首先需要考虑顶级目录，单个顶级目录的本质是一个对象，那么我们首先可以只考虑顶级目录，将所有的顶级目录找出来")]),s._v(" "),a("li",[s._v("有了顶级目录后，我们就需要考虑子目录了，我们可以在顶级目录上使用children来存放")]),s._v(" "),a("li",[s._v("区别顶级目录和子目录的方法是"),a("strong",[s._v("pid")]),s._v("(父级id)和"),a("strong",[s._v("id")]),s._v(",如果pid为0则是顶级目录，否则是子目录")]),s._v(" "),a("li",[s._v("子目录需要使用父级目录的id,也就是pid")]),s._v(" "),a("li",[s._v("由于是扁平化的数组，不考虑递归的话，我们可以借用"),a("strong",[s._v("对象引用")]),s._v("来实现。将数组元素的id作为对象的键，数组元素做为值。然后在遍历对象的过程中，我们需要想办法让每一个值放到对应的位置")]),s._v(" "),a("li",[s._v("我们可以利用对象的"),a("strong",[s._v("浅拷贝")]),s._v("来实现多层目录的修改")])])]),s._v(" "),a("p",[s._v("方法一：双循环")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("function arrayToTree(items) {\n  const result = []; // 存放结果集\n  const itemMap = {}; // \n  // 先将数组转成对象存储\n  for (const item of items) {\n    itemMap[item.id] = {\n      ...item\n    }\n  }\n  for (const item of items) {\n    const id = item.id;\n    const pid = item.pid;\n    const treeItem = itemMap[id];\n    //pid === 0即当前为顶级目录\n    if (pid === 0) {\n      result.push(treeItem);\n    } else {\n      if (itemMap[pid]) {\n        itemMap[pid].children = itemMap[pid].children ? itemMap[pid].children : []\n        itemMap[pid].children.push(treeItem)\n      }\n    }\n  }\n  return result;\n}\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br")])]),a("p",[a("img",{attrs:{src:"",alt:"",title:"点击并拖拽以移动"}})]),s._v(" "),a("p",[s._v("方法二：单循环")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("function arrayToTree2(items) {\n  const result = []; // 存放结果集\n  const itemMap = {}; // \n  for (const item of items) {\n    const id = item.id;\n    const pid = item.pid;\n    if (!itemMap[id]) {\n      itemMap[id] = {\n        children: [],\n      }\n    }\n    itemMap[id] = {\n      ...item,\n      children: itemMap[id]['children']\n    }\n    const treeItem = itemMap[id];\n    //pid === 0即当前为顶级目录\n    if (pid === 0) {\n      result.push(treeItem);\n    } else {\n      if (!itemMap[pid]) {\n        itemMap[pid] = {\n          children: [],\n        }\n      }\n      itemMap[pid].children.push(treeItem)\n    }\n  }\n  return result;\n}\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br")])]),a("p",[a("img",{attrs:{src:"",alt:"",title:"点击并拖拽以移动"}})]),s._v(" "),a("p",[s._v("结果：")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/a0ab2c321fdf42a292c41a3bbcb1acec~tplv-k3u1fbpfcp-watermark.image?",alt:"image.png"}})]),s._v(" "),a("blockquote",[a("p",[s._v("代码分析：")]),s._v(" "),a("p",[s._v("1.首先，两种方法都是利用了对象引用来实现的，通过将元素的id作为键，元素本身作为值。")]),s._v(" "),a("p",[s._v("2.代码的关键都在“if(pid === 0)”之后，乍一看只是修改了itemMap的值，好像对最终返回的result没有影响，但我们仔细来看。函数中，在对itemMap的id属性进行赋值之后，其他的操作本质上只是改变了对象的引用，itemMap中的5个部门对象在内存中一直没有变，所以我们直接对这5个部门对象进行的修改，那么只要是引用它们的数据都会受影响。")]),s._v(" "),a("p",[s._v("3.所以我们可以直接修改itemMap上的属性，无需考虑嵌套关系。")])]),s._v(" "),a("h1",{attrs:{id:"六、日期"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#六、日期"}},[s._v("#")]),s._v(" 六、日期")]),s._v(" "),a("blockquote",[a("p",[s._v("注意：在IOS16以下版本中，new Date()的参数中不支持传入“2022-03-27”这种格式，需要换为“2022/03/27”。以下方法未使用多参数类型，若使用TS,可以利用函数重载。")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("dateStr = dateStr.replace(/-/g, '/')\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[a("img",{attrs:{src:"",alt:"",title:"点击并拖拽以移动"}})]),s._v(" "),a("h2",{attrs:{id:"_1-日期格式化"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-日期格式化"}},[s._v("#")]),s._v(" 1.日期格式化")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("//年月日 时分秒\nfunction formatDate(originVal) {\n  const dt = new Date(originVal)\n\n  const y = dt.getFullYear()\n  const m = (dt.getMonth() + 1 + '').padStart(2, '0')\n  const d = (dt.getDate() + '').padStart(2, '0')\n\n  const hh = (dt.getHours() + '').padStart(2, '0')\n  const mm = (dt.getMinutes() + '').padStart(2, '0')\n  const ss = (dt.getSeconds() + '').padStart(2, '0')\n  return `${y}-${m}-${d} ${hh}:${mm}:${ss}`\n}\n\n//年月日\nfunction formatDate2(originVal) {\n  const dt = new Date(originVal)\n\n  const y = dt.getFullYear()\n  const m = (dt.getMonth() + 1 + '').padStart(2, '0')\n  const d = (dt.getDate() + '').padStart(2, '0')\n  return `${y}-${m}-${d}`\n}\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br")])]),a("p",[a("img",{attrs:{src:"",alt:"",title:"点击并拖拽以移动"}})]),s._v(" "),a("h2",{attrs:{id:"_2-前一天"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-前一天"}},[s._v("#")]),s._v(" 2.前一天")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("//dateStr为当前日期\nformatTime2(new Date(dateStr).getTime() - 24 * 60 * 60 * 1000)\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("p",[a("img",{attrs:{src:"",alt:"",title:"点击并拖拽以移动"}})]),s._v(" "),a("h2",{attrs:{id:"_3-后一天"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-后一天"}},[s._v("#")]),s._v(" 3.后一天")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("//dateStr为当前日期 \nformatTime2(new Date(dateStr).getTime() + 24 * 60 * 60 * 1000)\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("p",[a("img",{attrs:{src:"",alt:"",title:"点击并拖拽以移动"}})]),s._v(" "),a("h1",{attrs:{id:"七、节流防抖"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#七、节流防抖"}},[s._v("#")]),s._v(" 七、节流防抖")]),s._v(" "),a("p",[s._v("来源："),a("a",{attrs:{href:"https://www.uviewui.com/js/debounce.html",title:"uview2",target:"_blank",rel:"noopener noreferrer"}},[s._v("uview2"),a("OutboundLink")],1)]),s._v(" "),a("blockquote",[a("ul",[a("li",[s._v("节流"),a("br"),s._v("\n节流的意思是，规定时间内，只触发一次。比如我们设定500ms，在这个时间内，无论点击按钮多少次，它都只会触发一次。具体场景可以是抢购时候，由于有无数人 快速点击按钮，如果每次点击都发送请求，就会给服务器造成巨大的压力，但是我们进行节流后，就会大大减少请求的次数。")]),s._v(" "),a("li",[s._v("防抖"),a("br"),s._v("\n防抖的意思是，在连续的操作中，无论进行了多长时间，只有某一次的操作后在指定的时间内没有再操作，这一次才被判定有效。具体场景可以搜索框输入关键字过程中实时 请求服务器匹配搜索结果，如果不进行处理，那么就是输入框内容一直变化，导致一直发送请求。如果进行防抖处理，结果就是当我们输入内容完成后，一定时间(比如500ms)没有再 输入内容，这时再触发请求。")])])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("let timer; let\n    flag\n/**\n * 节流原理：在一定时间内，只能触发一次\n *\n * @param {Function} func 要执行的回调函数\n * @param {Number} wait 延时的时间\n * @param {Boolean} immediate 是否立即执行\n * @return null\n */\nfunction throttle(func, wait = 500, immediate = true) {\n    if (immediate) {\n        if (!flag) {\n            flag = true\n            // 如果是立即执行，则在wait毫秒内开始时执行\n            typeof func === 'function' && func()\n            timer = setTimeout(() => {\n                flag = false\n            }, wait)\n        }\n    } else if (!flag) {\n        flag = true\n        // 如果是非立即执行，则在wait毫秒内的结束处执行\n        timer = setTimeout(() => {\n            flag = false\n            typeof func === 'function' && func()\n        }, wait)\n    }\n}\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br")])]),a("p",[a("img",{attrs:{src:"",alt:"",title:"点击并拖拽以移动"}})]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("let timeout = null\n\n/**\n * 防抖原理：一定时间内，只有最后一次操作，再过wait毫秒后才执行函数\n *\n * @param {Function} func 要执行的回调函数\n * @param {Number} wait 延时的时间\n * @param {Boolean} immediate 是否立即执行\n * @return null\n */\nfunction debounce(func, wait = 500, immediate = false) {\n    // 清除定时器\n    if (timeout !== null) clearTimeout(timeout)\n    // 立即执行，此类情况一般用不到\n    if (immediate) {\n        const callNow = !timeout\n        timeout = setTimeout(() => {\n            timeout = null\n        }, wait)\n        if (callNow) typeof func === 'function' && func()\n    } else {\n        // 设置定时器，当最后一次操作后，timeout不会再被清除，所以在延时wait毫秒后执行func回调方法\n        timeout = setTimeout(() => {\n            typeof func === 'function' && func()\n        }, wait)\n    }\n}\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br")])]),a("p",[a("img",{attrs:{src:"",alt:"",title:"点击并拖拽以移动"}})]),s._v(" "),a("h1",{attrs:{id:"八、深克隆"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#八、深克隆"}},[s._v("#")]),s._v(" 八、深克隆")]),s._v(" "),a("p",[s._v("数据源：")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("let obj = {\n  a: 123,\n  b: 'zhangsan',\n  c: () => {\n    console.log('ccc')\n  },\n  d: [1, '2', {\n    name: 'linxi',\n    age: 18,\n    info: {\n      city: 'zz'\n    }\n  }],\n  e: null,\n  f: '',\n  g: false,\n  h: Symbol('h'),\n  i: undefined,\n  j: NaN\n}\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br")])]),a("p",[a("img",{attrs:{src:"",alt:"",title:"点击并拖拽以移动"}})]),s._v(" "),a("h2",{attrs:{id:"_1-json-parse-json-stringify"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-json-parse-json-stringify"}},[s._v("#")]),s._v(" 1. JSON.parse(JSON.stringify())")]),s._v(" "),a("p",[s._v("适用场景：对象属性中没有函数、Symbol、undefined、NaN这4中类型")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("JSON.parse(JSON.stringify(obj))\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[a("img",{attrs:{src:"https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/c99652b63e954608b33528b5a3329863~tplv-k3u1fbpfcp-watermark.image?",alt:"image.png"}})]),s._v(" "),a("h2",{attrs:{id:"_2-完整版"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-完整版"}},[s._v("#")]),s._v(" 2.完整版")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("function deepCopy(value) {\n  if (value instanceof Function) return value\n  else if (value instanceof Array) {\n    var newValue = []\n    for (let i = 0; i < value.length; ++i) newValue[i] = deepCopy(value[i])\n    return newValue\n  } else if (value instanceof Object) {\n    var newValue = {}\n    for (let i in value) newValue[i] = deepCopy(value[i])\n    return newValue\n  } else return value\n}\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br")])]),a("p",[a("img",{attrs:{src:"https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/63e3c58a118d4676abba7439974606f5~tplv-k3u1fbpfcp-watermark.image?",alt:"image.png"}})]),s._v(" "),a("p",[s._v("​")])])}),[],!1,null,null,null);a.default=e.exports}}]);